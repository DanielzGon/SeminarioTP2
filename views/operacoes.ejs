<html><head>
    <title> Calculadora </title>
    <meta name="description" content="0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
   
    </head>
    
    <body>
      <div class="cabeca">
          <h1>Calculadora<img id="im1" src="img/icon call.png" alt="ams"></h1>
  
      </div>
      
    <!-- CALCULATOR -->
    <div class="calculator">

      <!-- DISPLAY -->
      <div class="display">
          <input id="display" placeholder="0" disabled>
          <h2 id="history"></h2>
      </div>

      <!-- <BUTTONS -->
      <div class="row">
          <button class="button purple-text" onclick="limpar()">AC</button>
          <div></div>
          <button class="button gray" onclick="add_operador('^')">^</button>
          <button class="button gray" onclick="add_operador('÷')">÷</button>
      </div>

      <div class="row">
          <button class="button" onclick="add_numero(7)">7</button>
          <button class="button" onclick="add_numero(8)">8</button>
          <button class="button" onclick="add_numero(9)">9</button>
          <button class="button gray" onclick="add_operador('x')">x</button>
      </div>

      <div class="row">
          <button class="button" onclick="add_numero(4)">4</button>
          <button class="button" onclick="add_numero(5)">5</button>
          <button class="button" onclick="add_numero(6)">6</button>
          <button class="button gray" onclick="add_operador('-')">-</button>
      </div>

      <div class="row">
          <button class="button" onclick="add_numero(1)">1</button>
          <button class="button" onclick="add_numero(2)">2</button>
          <button class="button" onclick="add_numero(3)">3</button>
          <button class="button gray" onclick="add_operador('+')">+</button>
      </div>

      <div class="row">   
          <button class="button purple" onclick="calcularRaizQuadrada()">√</button>
          <button class="button" onclick="add_numero(0)">0</button>
          <button class="button" onclick="add_numero('.')">.</button>
          <button class="button purple" onclick="total()">=</button>
      </div>
      <!-- BUTTONS/> -->
  </div>

  <!-- SCRIPTS -->
  <script type="text/javascript" src="call.js">
    
var input = document.querySelector("#display");
var operador = "";
var parar = false;

function limpar() {
    input.value = "";
    document.querySelector("#history").innerHTML = "";
    operador = "";
    parar = false;
}

function add_numero(string) {
    if (!parar) {
        if (string === '.' && input.value.indexOf(".") === -1 || string !== '.') {
            input.value += string;
        }
    } else {
        if (string === '.' && input.value.indexOf(".") === -1 || string !== '.') {
            input.value = "";
            parar = false;
            document.querySelector("#history").innerHTML = "";
            operador = "";
            input.value += string;
        }
    }
}

function add_operador(op) {
    if (input.value === "") {
        input.value = "0";
    }
    if (operador === "") {
        operador = op;
        input.value += op;
    } else {
        total();
        input.value += op;
        operador = op;
        parar = false;
    }
}

function total() {
    if (!parar) {
        let numeros = input.value.split(operador);
        if (numeros[1] === "") {
            input.value += '0';
            numeros[1] = 0;
        }
        document.querySelector("#history").innerHTML = input.value;
        switch (operador) {
            case "+":
                input.value = Number(numeros[0]) + Number(numeros[1]);
                break;
            case "-":
                input.value = Number(numeros[0]) - Number(numeros[1]);
                break;
            case "x":
                input.value = Number(numeros[0]) * Number(numeros[1]);
                break;
            case "÷":
                input.value = Number(numeros[0]) / Number(numeros[1]);
                break;
            case "√":
                  calcularRaizQuadrada();
                break;
            case "^":
                input.value = Number(numeros[0]) ** Number(numeros[1]);  
                break;
            case "√":
                    if (num1 < 0) {
                    } else {
                        result = Math.pow(num2, 1 / num1);
                    }
                    break;
        }
        parar = true;
    }
}

function calcularRaizQuadrada() {
    if (input.value !== "√") {
        let numero = parseFloat(input.value);
        if (numero >= 0) {
            let raizQuadrada = Math.sqrt(numero);
            input.value = raizQuadrada;
            document.querySelector("#history").innerHTML = `√(${numero}) = ${raizQuadrada}`;
}
    }
}
  </script>
  </form> 
    </body></html>